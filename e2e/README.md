## Quick Start

To start the development, run:

```
npm install
npm run install:browsers (only for the first time)
npm run test (or npm run test:chrome for browser specific)
```

## E2E Playwright guide

### How to test locally?

After installation, just run `npm run test` command (having a launched application on a given port is not required,
playwright will run the application itself locally if it is not open). It will run test in headless mode. In CLI you
will get listed results, also you can debug it by running command which CLI suggest:
`npx playwright show-report test-report`. Report will be opened in browser, and you can see which test are
passing/failing and on which browser. If you enter one specific test, you will see all test steps, and also TRACES which
are very helpful to debug. If your test is failing, enter the trace and then you can debug step by step and see what
automatic test did (what it see and what it clicked).

### How to debug test from CI?

1. Go to the **Pipelines** page of the PR
2. Downloads the artifacts
3. Extract the `test-report` folder locally in the repository in `e2e-playwright/test-report` folder
4. Run `npx playwright show-report test-report` and analyze the traces (check "Retry #1" tab to see traces)
5. There is second way to just see just a one specific test results: find the `trace.zip` file for the specific e2e test
   in question (in `test-results` folder)
6. Put in in repo in `e2e-playwright` folder (and remove it later). Run `npx playwright show-trace trace.zip` and
   analyze trace in specifing failing test.

## Available Scripts

In the project directory, you can run:

### `npm run install:browsers`

Will install default browsers dependencies to your computer. Helpful, when updating the playwright package and version
of browsers.

### `npm run test`

Will run e2e tests in headless mode on all browsers (listed in configuration file)

### `npm run test:chrome` or `npm run test:firefox` `npm run test:safari`

Will run e2e tests in headless mode for the specific browser

### `npm run lint` and `npm run lint:fix`

Runs the linter (and fixes fixable issues)

### `npm run clean`

This is just a helper script to remove artifacts generated by e2e tests. This is not necessary to run this manually,
because playwright will clear artifacts by its own just before tests starting.

### `npm run serve`

This script will serve app build under given port (from env's). This script is used by playwright during tests in CI.
App build is required.
